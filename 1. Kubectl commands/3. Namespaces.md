# Namespaces

## What are Namespaces?

**Namespaces** are Kubernetes' way of creating **virtual clusters** within a single physical cluster. Think of them as separate "rooms" or "departments" that organize and isolate your applications.

### üè¢ **Simple Analogy:**
Namespaces are like **departments in a large office building**:
- **HR Department** (hr namespace) - has their own resources and people
- **Engineering Department** (engineering namespace) - separate space, different projects  
- **Finance Department** (finance namespace) - isolated, secure, own policies
- **Common Areas** (default namespace) - shared space for general use

### üéØ **Key Benefits:**
- **Organization**: Group related resources together
- **Isolation**: Resources in different namespaces are separated
- **Resource Quotas**: Limit CPU, memory, storage per namespace
- **Access Control**: Different permissions for different namespaces
- **Environment Separation**: dev, staging, production environments

### üìã **Common Default Namespaces:**
| Namespace | Purpose | Contents |
|-----------|---------|----------|
| **default** | Your apps (if no namespace specified) | User applications |
| **kube-system** | Kubernetes system components | DNS, kube-proxy, etcd |
| **kube-public** | Public resources accessible to all | Cluster info |
| **kube-node-lease** | Node heartbeat information | Node lease objects |

### üîç **Namespace Scope:**
**Namespaced Resources** (isolated by namespace):
- Pods, Deployments, Services
- ConfigMaps, Secrets
- Ingress, NetworkPolicies

**Cluster-Wide Resources** (NOT namespaced):
- Nodes, Persistent Volumes
- StorageClasses, ClusterRoles

### üí° **Your Example:**
Your `hello-world-carlo` namespace:
- Contains your hello-world deployment and pods
- Separate from other projects/environments
- Resources are isolated from `default` or other namespaces
- You can have same resource names in different namespaces

### üöÄ **Best Practices:**
- **Don't use default**: Create specific namespaces for your apps
- **Environment separation**: `dev`, `staging`, `prod` namespaces
- **Team separation**: `team-frontend`, `team-backend` namespaces  
- **Resource quotas**: Prevent one namespace from consuming all resources

**Remember**: When you don't specify `-n namespace`, kubectl uses your current context's default namespace!

## [ ] kubectl get ns, kubectl config set-context --current --namespace

### kubectl get ns
```bash
# Get all namespaces
kubectl get namespaces
kubectl get ns  # Short form

# Get namespaces with more details
kubectl get ns -o wide

# Get specific namespace
kubectl get ns <namespace-name>

# Get namespaces with labels
kubectl get ns --show-labels

# Filter namespaces by labels
kubectl get ns -l environment=production

# Output formats
kubectl get ns -o yaml
kubectl get ns -o json

# Watch namespace changes
kubectl get ns -w
```

### kubectl config set-context --current --namespace
```bash
# Set namespace for current context
kubectl config set-context --current --namespace=<namespace-name>

# Set namespace for specific context
kubectl config set-context <context-name> --namespace=<namespace-name>

# Verify current namespace
kubectl config view --minify | grep namespace

# Get current context information
kubectl config current-context

# View all contexts
kubectl config get-contexts

# Check what namespace you're currently in
kubectl config view --minify -o jsonpath='{..namespace}'
```

## Additional Namespace Operations

### Create and Delete Namespaces
```bash
# Create namespace
kubectl create namespace <namespace-name>
kubectl create ns <namespace-name>  # Short form

# Create namespace from YAML
kubectl apply -f namespace.yaml

# Delete namespace (WARNING: Deletes all resources in it)
kubectl delete namespace <namespace-name>
kubectl delete ns <namespace-name>

# Delete multiple namespaces
kubectl delete ns namespace1 namespace2
```

### Working with Resources Across Namespaces
```bash
# Use namespace for single command
kubectl get pods -n <namespace-name>
kubectl get pods --namespace=<namespace-name>

# Apply resource to specific namespace
kubectl apply -f deployment.yaml -n <namespace-name>

# Get resources from all namespaces
kubectl get pods --all-namespaces
kubectl get pods -A  # Short form

# Get services across all namespaces
kubectl get svc -A

# Get deployments in specific namespace
kubectl get deployments -n kube-system
```

### Describe Namespaces
```bash
# Get detailed information about namespace
kubectl describe namespace <namespace-name>
kubectl describe ns <namespace-name>

# Information includes:
# - Status and phase
# - Resource quotas (if any)
# - Limit ranges (if any)
# - Labels and annotations
```

## Default Namespaces

| Namespace | Purpose |
|-----------|---------|
| `default` | Default namespace for resources without specified namespace |
| `kube-system` | System components (kube-dns, kube-proxy, etc.) |
| `kube-public` | Publicly readable resources |
| `kube-node-lease` | Node heartbeat information |

## Context and Namespace Tips

```bash
# Reset to default namespace
kubectl config set-context --current --namespace=default

# Temporarily use different namespace without changing context
kubectl get pods -n production

# Create resources in specific namespace
kubectl run test-pod --image=nginx -n development

# Switch contexts entirely
kubectl config use-context <different-context>
```

## Quick Reference Workflow

```bash
# Namespace workflow
kubectl get ns                                    # List namespaces
kubectl create ns myapp                          # Create namespace
kubectl config set-context --current --namespace=myapp  # Switch to namespace
kubectl get pods                                 # Now shows pods in myapp namespace
kubectl config set-context --current --namespace=default  # Switch back
```