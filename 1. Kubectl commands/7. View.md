# View ConfigMaps

## [ ] kubectl get configmap, kubectl describe configmap

### kubectl get configmap
```bash
# Get all ConfigMaps in current namespace
kubectl get configmaps
kubectl get cm  # Short form

# Get ConfigMaps from specific namespace
kubectl get configmaps -n <namespace-name>

# Get ConfigMaps with more details
kubectl get configmaps -o wide

# List ConfigMaps from all namespaces
kubectl get configmaps --all-namespaces
kubectl get configmaps -A

# Get specific ConfigMap
kubectl get configmap <configmap-name>

# Get ConfigMaps with labels
kubectl get configmaps --show-labels

# Filter ConfigMaps by labels
kubectl get configmaps -l app=myapp

# Watch ConfigMap changes
kubectl get configmaps -w
```

### kubectl get configmap output formats
```bash
# Get ConfigMap in YAML format
kubectl get configmap <configmap-name> -o yaml

# Get ConfigMap in JSON format
kubectl get configmap <configmap-name> -o json

# Get specific data key from ConfigMap
kubectl get configmap <configmap-name> -o jsonpath='{.data.key-name}'

# Get all data keys
kubectl get configmap <configmap-name> -o jsonpath='{.data}'

# Get ConfigMap keys only
kubectl get configmap <configmap-name> -o jsonpath='{.data}' | jq 'keys[]'

# Get ConfigMap creation timestamp
kubectl get configmap <configmap-name> -o jsonpath='{.metadata.creationTimestamp}'
```

### kubectl describe configmap
```bash
# Get detailed information about a ConfigMap
kubectl describe configmap <configmap-name>
kubectl describe cm <configmap-name>  # Short form

# Describe ConfigMap in specific namespace
kubectl describe configmap <configmap-name> -n <namespace-name>

# Describe multiple ConfigMaps
kubectl describe configmaps <configmap1> <configmap2>

# Describe all ConfigMaps
kubectl describe configmaps

# Describe ConfigMaps with specific labels
kubectl describe configmaps -l app=myapp
```

## What kubectl describe configmap shows

### Information Included:
- **Name and Namespace**: ConfigMap identification
- **Labels and Annotations**: Metadata attached to the ConfigMap
- **Data**: All key-value pairs stored in the ConfigMap
- **Creation Timestamp**: When the ConfigMap was created
- **Resource Version**: Internal Kubernetes versioning
- **Events**: Related events (if any)

### Example Output Sections:
```
Name:         app-config
Namespace:    default
Labels:       app=myapp
              environment=production
Annotations:  <none>

Data
====
database_host:
----
localhost

database_port:
----
5432

config.properties:
----
server.port=8080
server.name=myapp
debug=false

Events:  <none>
```

## Viewing ConfigMap Content

### View Specific Keys
```bash
# View single key value
kubectl get configmap app-config -o jsonpath='{.data.database_host}'

# View multiple keys
kubectl get configmap app-config -o jsonpath='{.data.database_host}{"\n"}{.data.database_port}'

# View all keys and values formatted
kubectl get configmap app-config -o yaml | grep -A 20 "data:"

# View keys in a readable format
kubectl get configmap app-config -o jsonpath='{range .data.*}{@}{"\n"}{end}'
```

### Check ConfigMap Size and Limits
```bash
# Check ConfigMap size (ConfigMaps have 1MB limit)
kubectl describe configmap <configmap-name> | grep -A 50 "Data"

# List ConfigMaps by size (requires additional tools)
kubectl get configmaps -o json | jq '.items[] | {name: .metadata.name, size: (.data | tostring | length)}'
```

## ConfigMap Discovery

### Find ConfigMaps by Usage
```bash
# Find ConfigMaps used by pods
kubectl get pods -o yaml | grep -B 5 -A 5 configMapKeyRef

# Find ConfigMaps mounted as volumes
kubectl get pods -o yaml | grep -B 5 -A 5 configMap:

# Search for ConfigMap references
kubectl get pods -o yaml | grep -i configmap
```

### List ConfigMaps by Pattern
```bash
# List ConfigMaps with name pattern
kubectl get configmaps | grep app-

# List ConfigMaps in multiple namespaces
kubectl get configmaps -A | grep production

# List ConfigMaps with specific labels
kubectl get configmaps -l environment=production --all-namespaces
```

## Monitoring ConfigMaps

### ConfigMap Status
```bash
# Check if ConfigMap exists
kubectl get configmap myapp-config &> /dev/null && echo "exists" || echo "not found"

# List recently created ConfigMaps
kubectl get configmaps --sort-by='.metadata.creationTimestamp'

# Compare ConfigMap versions (if using GitOps)
kubectl get configmap app-config -o yaml > current-config.yaml
```

### ConfigMap Dependencies
```bash
# Find which pods use a ConfigMap
kubectl get pods -o yaml | grep -B 10 -A 5 "name: app-config"

# Find deployments using ConfigMap
kubectl get deployments -o yaml | grep -B 10 -A 5 "name: app-config"

# List all resources that might reference ConfigMaps
kubectl get all -o yaml | grep -i configmap
```

## Quick Reference Examples

```bash
# Basic ConfigMap viewing
kubectl get configmaps                           # List all ConfigMaps
kubectl get cm app-config                        # Get specific ConfigMap
kubectl describe cm app-config                   # Detailed ConfigMap info

# Advanced viewing
kubectl get cm app-config -o yaml                # Full YAML output
kubectl get cm app-config -o jsonpath='{.data}' # Just the data
kubectl describe cm -l app=myapp                 # ConfigMaps by label

# Cross-namespace viewing
kubectl get cm --all-namespaces                  # All ConfigMaps everywhere
kubectl get cm -n production                     # Production namespace only
```

## Common ConfigMap Patterns

| Pattern | Command | Use Case |
|---------|---------|----------|
| Application Config | `kubectl get cm app-config` | Main application settings |
| Environment Config | `kubectl get cm -l env=prod` | Environment-specific settings |
| Shared Config | `kubectl get cm common-config` | Shared across multiple apps |
| Feature Flags | `kubectl get cm feature-flags` | Feature toggle configuration |
| Database Config | `kubectl get cm db-config` | Database connection settings |